local Library = {}

local NeverloseVersion = "v2.0 NytrixGuard Style"

local TweenService = game:GetService("TweenService")
local input = game:GetService("UserInputService")

-- Modern Color Theme (NytrixGuard Style)
local Theme = {
	bg = Color3.fromRGB(10, 10, 10),
	bgPanel = Color3.fromRGB(17, 17, 17),
	sidebar = Color3.fromRGB(17, 17, 17),
	card = Color3.fromRGB(26, 26, 26),
	accent = Color3.fromRGB(0, 217, 192),
	accentAlt = Color3.fromRGB(34, 197, 94),
	text = Color3.fromRGB(255, 255, 255),
	textMuted = Color3.fromRGB(115, 115, 115),
	textSection = Color3.fromRGB(80, 80, 80),
	border = Color3.fromRGB(38, 38, 38),
	toggle = Color3.fromRGB(0, 217, 192),
	toggleOff = Color3.fromRGB(55, 55, 55),
	slider = Color3.fromRGB(0, 217, 192),
	input = Color3.fromRGB(20, 20, 20)
}

for i,v in next, game.CoreGui:GetChildren() do
	if v:IsA("ScreenGui") and v.Name == "Neverlose" then
		v:Destroy() 
	end
end

local themouse = game.Players.LocalPlayer:GetMouse()

local function Notify(tt, tx)
	game:GetService("StarterGui"):SetCore("SendNotification", {
		Title = tt,
		Text = tx,
		Duration = 5
	})
end

local function Dragify(frame, parent)
	parent = parent or frame
	local dragging = false
	local dragInput, mousePos, framePos

	frame.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = true
			mousePos = input.Position
			framePos = parent.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	frame.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement then
			dragInput = input
		end
	end)

	input.InputChanged:Connect(function(input)
		if input == dragInput and dragging then
			local delta = input.Position - mousePos
			parent.Position = UDim2.new(framePos.X.Scale, framePos.X.Offset + delta.X, framePos.Y.Scale, framePos.Y.Offset + delta.Y)
		end
	end)
end

local function round(num, bracket)
	bracket = bracket or 1
	local a = math.floor(num/bracket + (math.sign(num) * 0.5)) * bracket
	if a < 0 then
		a = a + bracket
	end
	return a
end

local function buttoneffect(options)
	pcall(function()
		options.entered.MouseEnter:Connect(function()
			if options.frame.TextColor3 ~= Theme.text then
				TweenService:Create(options.frame, TweenInfo.new(0.12, Enum.EasingStyle.Quart, Enum.EasingDirection.In), {
					TextColor3 = Theme.text
				}):Play()
			end
		end)
		options.entered.MouseLeave:Connect(function()
			if options.frame.TextColor3 ~= Theme.textMuted and options.frame.TextColor3 ~= Theme.text then
				TweenService:Create(options.frame, TweenInfo.new(0.12, Enum.EasingStyle.Quart, Enum.EasingDirection.In), {
					TextColor3 = Theme.textMuted
				}):Play()
			end
		end)
	end)
end

local function clickEffect(options)
	options.button.MouseButton1Click:Connect(function()
		local new = options.button.TextSize - tonumber(options.amount)
		local revert = new + tonumber(options.amount)
		TweenService:Create(options.button, TweenInfo.new(0.15, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out), {TextSize = new}):Play()
		wait(0.1)
		TweenService:Create(options.button, TweenInfo.new(0.1, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out), {TextSize = revert}):Play()
	end)
end

function Library:Toggle(value)
	if game:GetService("CoreGui"):FindFirstChild("Neverlose") == nil then return end
	local enabled = (type(value) == "boolean" and value) or game:GetService("CoreGui"):FindFirstChild("Neverlose").Enabled
	game:GetService("CoreGui"):FindFirstChild("Neverlose").Enabled = not enabled
end

function Library:Window(options)
	options.text = options.text or "NytrixGuard"

	local SG = Instance.new("ScreenGui")
	local Body = Instance.new("Frame")
	Dragify(Body, Body)
	local bodyCorner = Instance.new("UICorner")
	local bodyStroke = Instance.new("UIStroke")

	local SideBar = Instance.new("Frame")
	local sidebarCorner = Instance.new("UICorner")
	local sbLine = Instance.new("Frame")

	local TopBar = Instance.new("Frame")
	local tbLine = Instance.new("Frame")
	local Title = Instance.new("TextLabel")
	local TitleIcon = Instance.new("Frame")
	local TitleIconCorner = Instance.new("UICorner")

	local allPages = Instance.new("Frame")
	local tabContainer = Instance.new("ScrollingFrame")

	SG.Parent = game.CoreGui
	SG.Name = "Neverlose"

	Body.Name = "Body"
	Body.Parent = SG
	Body.AnchorPoint = Vector2.new(0.5, 0.5)
	Body.BackgroundColor3 = Theme.bg
	Body.BorderSizePixel = 0
	Body.Position = UDim2.new(0.5, 0, 0.5, 0)
	Body.Size = UDim2.new(0, 720, 0, 480)

	bodyCorner.CornerRadius = UDim.new(0, 12)
	bodyCorner.Parent = Body

	bodyStroke.Parent = Body
	bodyStroke.Color = Theme.border
	bodyStroke.Thickness = 1
	bodyStroke.Transparency = 0.5

	SideBar.Name = "SideBar"
	SideBar.Parent = Body
	SideBar.BackgroundColor3 = Theme.sidebar
	SideBar.BorderSizePixel = 0
	SideBar.Size = UDim2.new(0, 180, 1, 0)

	sidebarCorner.CornerRadius = UDim.new(0, 12)
	sidebarCorner.Parent = SideBar

	sbLine.Name = "sbLine"
	sbLine.Parent = SideBar
	sbLine.BackgroundColor3 = Theme.border
	sbLine.BorderSizePixel = 0
	sbLine.Position = UDim2.new(1, -1, 0, 0)
	sbLine.Size = UDim2.new(0, 1, 1, 0)
	sbLine.BackgroundTransparency = 0.5

	-- Title area with icon
	TitleIcon.Name = "TitleIcon"
	TitleIcon.Parent = SideBar
	TitleIcon.BackgroundColor3 = Theme.accent
	TitleIcon.Position = UDim2.new(0, 16, 0, 16)
	TitleIcon.Size = UDim2.new(0, 32, 0, 32)

	TitleIconCorner.CornerRadius = UDim.new(0, 8)
	TitleIconCorner.Parent = TitleIcon

	Title.Name = "Title"
	Title.Parent = SideBar
	Title.BackgroundTransparency = 1
	Title.Position = UDim2.new(0, 56, 0, 16)
	Title.Size = UDim2.new(0, 110, 0, 32)
	Title.Font = Enum.Font.GothamBold
	Title.Text = options.text
	Title.TextColor3 = Theme.text
	Title.TextSize = 16
	Title.TextXAlignment = Enum.TextXAlignment.Left

	TopBar.Name = "TopBar"
	TopBar.Parent = Body
	TopBar.BackgroundColor3 = Theme.bg
	TopBar.BackgroundTransparency = 1
	TopBar.BorderSizePixel = 0
	TopBar.Position = UDim2.new(0, 180, 0, 0)
	TopBar.Size = UDim2.new(1, -180, 0, 50)

	tbLine.Name = "tbLine"
	tbLine.Parent = TopBar
	tbLine.BackgroundColor3 = Theme.border
	tbLine.BorderSizePixel = 0
	tbLine.Position = UDim2.new(0, 16, 1, -1)
	tbLine.Size = UDim2.new(1, -32, 0, 1)
	tbLine.BackgroundTransparency = 0.5

	allPages.Name = "allPages"
	allPages.Parent = Body
	allPages.BackgroundTransparency = 1
	allPages.BorderSizePixel = 0
	allPages.Position = UDim2.new(0, 196, 0, 58)
	allPages.Size = UDim2.new(1, -212, 1, -74)

	tabContainer.Name = "tabContainer"
	tabContainer.Parent = SideBar
	tabContainer.BackgroundTransparency = 1
	tabContainer.BorderSizePixel = 0
	tabContainer.Position = UDim2.new(0, 0, 0, 64)
	tabContainer.Size = UDim2.new(1, 0, 1, -64)
	tabContainer.ScrollBarThickness = 2
	tabContainer.ScrollBarImageColor3 = Theme.accent
	tabContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
	tabContainer.AutomaticCanvasSize = Enum.AutomaticSize.Y

	local tabContainerLayout = Instance.new("UIListLayout")
	tabContainerLayout.Parent = tabContainer
	tabContainerLayout.Padding = UDim.new(0, 4)

	local tabsections = {}

	function tabsections:TabSection(options)
		options.text = options.text or "SECTION"

		local tabSection = Instance.new("Frame")
		local tabSectionLabel = Instance.new("TextLabel")
		local tabSectionLayout = Instance.new("UIListLayout")

		tabSection.Name = "tabSection"
		tabSection.Parent = tabContainer
		tabSection.BackgroundTransparency = 1
		tabSection.BorderSizePixel = 0
		tabSection.Size = UDim2.new(1, 0, 0, 28)
		tabSection.AutomaticSize = Enum.AutomaticSize.Y

		tabSectionLabel.Name = "tabSectionLabel"
		tabSectionLabel.Parent = tabSection
		tabSectionLabel.BackgroundTransparency = 1
		tabSectionLabel.Size = UDim2.new(1, 0, 0, 28)
		tabSectionLabel.Font = Enum.Font.GothamMedium
		tabSectionLabel.Text = "  " .. string.upper(options.text)
		tabSectionLabel.TextColor3 = Theme.textSection
		tabSectionLabel.TextSize = 11
		tabSectionLabel.TextXAlignment = Enum.TextXAlignment.Left

		tabSectionLayout.Name = "tabSectionLayout"
		tabSectionLayout.Parent = tabSection
		tabSectionLayout.Padding = UDim.new(0, 2)

		local tabs = {}

		function tabs:Tab(options)
			options.text = options.text or "Tab"
			options.icon = options.icon or "rbxassetid://7733960981"

			local tabButton = Instance.new("TextButton")
			local tabButtonCorner = Instance.new("UICorner")
			local tabIcon = Instance.new("ImageLabel")
			local tabIndicator = Instance.new("Frame")
			local tabIndicatorCorner = Instance.new("UICorner")

			local newPage = Instance.new("ScrollingFrame")
			local pageLayout = Instance.new("UIGridLayout")

			tabButton.Name = "tabButton"
			tabButton.Parent = tabSection
			tabButton.BackgroundColor3 = Theme.accent
			tabButton.BackgroundTransparency = 1
			tabButton.BorderSizePixel = 0
			tabButton.Size = UDim2.new(1, -16, 0, 36)
			tabButton.Position = UDim2.new(0, 8, 0, 0)
			tabButton.AutoButtonColor = false
			tabButton.Font = Enum.Font.GothamMedium
			tabButton.Text = "      " .. options.text
			tabButton.TextColor3 = Theme.textMuted
			tabButton.TextSize = 13
			tabButton.TextXAlignment = Enum.TextXAlignment.Left

			tabButtonCorner.CornerRadius = UDim.new(0, 6)
			tabButtonCorner.Parent = tabButton

			tabIcon.Name = "tabIcon"
			tabIcon.Parent = tabButton
			tabIcon.BackgroundTransparency = 1
			tabIcon.Position = UDim2.new(0, 12, 0.5, -9)
			tabIcon.Size = UDim2.new(0, 18, 0, 18)
			tabIcon.Image = options.icon
			tabIcon.ImageColor3 = Theme.textMuted

			tabIndicator.Name = "tabIndicator"
			tabIndicator.Parent = tabButton
			tabIndicator.BackgroundColor3 = Theme.accent
			tabIndicator.Position = UDim2.new(0, 0, 0.5, -8)
			tabIndicator.Size = UDim2.new(0, 3, 0, 16)
			tabIndicator.Visible = false

			tabIndicatorCorner.CornerRadius = UDim.new(0, 2)
			tabIndicatorCorner.Parent = tabIndicator

			tabButton.MouseEnter:Connect(function()
				if tabButton.BackgroundTransparency == 1 then
					TweenService:Create(tabButton, TweenInfo.new(0.15), {BackgroundTransparency = 0.9}):Play()
				end
			end)

			tabButton.MouseLeave:Connect(function()
				if tabButton.BackgroundTransparency > 0.5 then
					TweenService:Create(tabButton, TweenInfo.new(0.15), {BackgroundTransparency = 1}):Play()
				end
			end)

			tabButton.MouseButton1Click:Connect(function()
				for i,v in next, allPages:GetChildren() do
					v.Visible = false
				end
				newPage.Visible = true

				for i,v in next, SideBar:GetDescendants() do
					if v:IsA("TextButton") then
						TweenService:Create(v, TweenInfo.new(0.15), {BackgroundTransparency = 1, TextColor3 = Theme.textMuted}):Play()
					end
					if v.Name == "tabIcon" then
						TweenService:Create(v, TweenInfo.new(0.15), {ImageColor3 = Theme.textMuted}):Play()
					end
					if v.Name == "tabIndicator" then
						v.Visible = false
					end
				end

				TweenService:Create(tabButton, TweenInfo.new(0.15), {BackgroundTransparency = 0.85, TextColor3 = Theme.text}):Play()
				TweenService:Create(tabIcon, TweenInfo.new(0.15), {ImageColor3 = Theme.accent}):Play()
				tabIndicator.Visible = true
			end)

			newPage.Name = "newPage"
			newPage.Parent = allPages
			newPage.Visible = false
			newPage.BackgroundTransparency = 1
			newPage.BorderSizePixel = 0
			newPage.Size = UDim2.new(1, 0, 1, 0)
			newPage.ScrollBarThickness = 3
			newPage.ScrollBarImageColor3 = Theme.accent
			newPage.CanvasSize = UDim2.new(0, 0, 0, 0)

			pageLayout.Name = "pageLayout"
			pageLayout.Parent = newPage
			pageLayout.SortOrder = Enum.SortOrder.LayoutOrder
			pageLayout.CellPadding = UDim2.new(0, 12, 0, 12)
			pageLayout.CellSize = UDim2.new(0, 240, 0, 0)
			pageLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
				newPage.CanvasSize = UDim2.new(0, 0, 0, pageLayout.AbsoluteContentSize.Y + 16)
			end)

			local sections = {}

			function sections:Section(options)
				options.text = options.text or "Section"

				local sectionFrame = Instance.new("Frame")
				local sectionLabel = Instance.new("TextLabel")
				local sectionFrameCorner = Instance.new("UICorner")
				local sectionStroke = Instance.new("UIStroke")
				local sectionLayout = Instance.new("UIListLayout")
				local sectionPadding = Instance.new("UIPadding")
				local sLine = Instance.new("Frame")
				local sectionSizeConstraint = Instance.new("UISizeConstraint")

				sectionFrame.Name = "sectionFrame"
				sectionFrame.Parent = newPage
				sectionFrame.BackgroundColor3 = Theme.card
				sectionFrame.BorderSizePixel = 0
				sectionFrame.Size = UDim2.new(0, 240, 0, 45)
				sectionFrame.AutomaticSize = Enum.AutomaticSize.Y

				sectionFrameCorner.CornerRadius = UDim.new(0, 10)
				sectionFrameCorner.Parent = sectionFrame

				sectionStroke.Parent = sectionFrame
				sectionStroke.Color = Theme.border
				sectionStroke.Thickness = 1
				sectionStroke.Transparency = 0.6

				sectionLabel.Name = "sectionLabel"
				sectionLabel.Parent = sectionFrame
				sectionLabel.BackgroundTransparency = 1
				sectionLabel.Position = UDim2.new(0, 0, 0, 0)
				sectionLabel.Size = UDim2.new(1, 0, 0, 36)
				sectionLabel.Font = Enum.Font.GothamBold
				sectionLabel.Text = "  " .. options.text
				sectionLabel.TextColor3 = Theme.text
				sectionLabel.TextSize = 13
				sectionLabel.TextXAlignment = Enum.TextXAlignment.Left

				sectionLayout.Name = "sectionLayout"
				sectionLayout.Parent = sectionFrame
				sectionLayout.Padding = UDim.new(0, 4)

				sectionPadding.Parent = sectionFrame
				sectionPadding.PaddingLeft = UDim.new(0, 12)
				sectionPadding.PaddingRight = UDim.new(0, 12)
				sectionPadding.PaddingBottom = UDim.new(0, 12)

				sLine.Name = "sLine"
				sLine.Parent = sectionFrame
				sLine.BackgroundColor3 = Theme.border
				sLine.BorderSizePixel = 0
				sLine.Position = UDim2.new(0, 12, 0, 36)
				sLine.Size = UDim2.new(1, -24, 0, 1)
				sLine.BackgroundTransparency = 0.5

				sectionSizeConstraint.MinSize = Vector2.new(240, 50)
				sectionSizeConstraint.Parent = sectionFrame

				local elements = {}

				function elements:Button(options)
					if not options.text or not options.callback then Notify("Button", "Missing arguments!") return end

					local TextButton = Instance.new("TextButton")
					local ButtonCorner = Instance.new("UICorner")

					TextButton.Parent = sectionFrame
					TextButton.BackgroundColor3 = Theme.accent
					TextButton.BackgroundTransparency = 0.9
					TextButton.BorderSizePixel = 0
					TextButton.Size = UDim2.new(1, -24, 0, 32)
					TextButton.AutoButtonColor = false
					TextButton.Text = options.text
					TextButton.Font = Enum.Font.GothamMedium
					TextButton.TextColor3 = Theme.textMuted
					TextButton.TextSize = 13

					ButtonCorner.CornerRadius = UDim.new(0, 6)
					ButtonCorner.Parent = TextButton

					TextButton.MouseEnter:Connect(function()
						TweenService:Create(TextButton, TweenInfo.new(0.15), {BackgroundTransparency = 0.8, TextColor3 = Theme.text}):Play()
					end)
					TextButton.MouseLeave:Connect(function()
						TweenService:Create(TextButton, TweenInfo.new(0.15), {BackgroundTransparency = 0.9, TextColor3 = Theme.textMuted}):Play()
					end)
					TextButton.MouseButton1Click:Connect(function()
						TweenService:Create(TextButton, TweenInfo.new(0.05), {BackgroundTransparency = 0.7}):Play()
						wait(0.05)
						TweenService:Create(TextButton, TweenInfo.new(0.1), {BackgroundTransparency = 0.8}):Play()
						options.callback()
					end)
				end

				function elements:Toggle(options)
					if not options.text or not options.callback then Notify("Toggle", "Missing arguments!") return end

					local State = options.state or false

					local toggleFrame = Instance.new("Frame")
					local toggleLabel = Instance.new("TextLabel")
					local toggleBg = Instance.new("TextButton")
					local toggleBgCorner = Instance.new("UICorner")
					local toggleCircle = Instance.new("Frame")
					local toggleCircleCorner = Instance.new("UICorner")

					toggleFrame.Name = "toggleFrame"
					toggleFrame.Parent = sectionFrame
					toggleFrame.BackgroundTransparency = 1
					toggleFrame.Size = UDim2.new(1, -24, 0, 28)

					toggleLabel.Name = "toggleLabel"
					toggleLabel.Parent = toggleFrame
					toggleLabel.BackgroundTransparency = 1
					toggleLabel.Size = UDim2.new(1, -50, 1, 0)
					toggleLabel.Font = Enum.Font.Gotham
					toggleLabel.Text = options.text
					toggleLabel.TextColor3 = State and Theme.text or Theme.textMuted
					toggleLabel.TextSize = 13
					toggleLabel.TextXAlignment = Enum.TextXAlignment.Left

					toggleBg.Name = "toggleBg"
					toggleBg.Parent = toggleFrame
					toggleBg.AnchorPoint = Vector2.new(1, 0.5)
					toggleBg.BackgroundColor3 = State and Theme.toggle or Theme.toggleOff
					toggleBg.Position = UDim2.new(1, 0, 0.5, 0)
					toggleBg.Size = UDim2.new(0, 40, 0, 20)
					toggleBg.AutoButtonColor = false
					toggleBg.Text = ""

					toggleBgCorner.CornerRadius = UDim.new(1, 0)
					toggleBgCorner.Parent = toggleBg

					toggleCircle.Name = "toggleCircle"
					toggleCircle.Parent = toggleBg
					toggleCircle.AnchorPoint = Vector2.new(0, 0.5)
					toggleCircle.BackgroundColor3 = Theme.text
					toggleCircle.Position = State and UDim2.new(1, -18, 0.5, 0) or UDim2.new(0, 2, 0.5, 0)
					toggleCircle.Size = UDim2.new(0, 16, 0, 16)

					toggleCircleCorner.CornerRadius = UDim.new(1, 0)
					toggleCircleCorner.Parent = toggleCircle

					local function PerformToggle()
						State = not State
						options.callback(State)
						TweenService:Create(toggleCircle, TweenInfo.new(0.2, Enum.EasingStyle.Quart), {
							Position = State and UDim2.new(1, -18, 0.5, 0) or UDim2.new(0, 2, 0.5, 0)
						}):Play()
						TweenService:Create(toggleBg, TweenInfo.new(0.2), {
							BackgroundColor3 = State and Theme.toggle or Theme.toggleOff
						}):Play()
						TweenService:Create(toggleLabel, TweenInfo.new(0.15), {
							TextColor3 = State and Theme.text or Theme.textMuted
						}):Play()
					end

					toggleBg.MouseButton1Click:Connect(PerformToggle)
				end

				function elements:Slider(options)
					if not options.text or not options.min or not options.max or not options.callback then Notify("Slider", "Missing arguments!") return end

					local Value = options.min
					local Held = false

					local sliderFrame = Instance.new("Frame")
					local sliderLabel = Instance.new("TextLabel")
					local sliderValue = Instance.new("TextLabel")
					local sliderBg = Instance.new("TextButton")
					local sliderBgCorner = Instance.new("UICorner")
					local sliderFill = Instance.new("Frame")
					local sliderFillCorner = Instance.new("UICorner")
					local sliderBall = Instance.new("Frame")
					local sliderBallCorner = Instance.new("UICorner")

					sliderFrame.Name = "sliderFrame"
					sliderFrame.Parent = sectionFrame
					sliderFrame.BackgroundTransparency = 1
					sliderFrame.Size = UDim2.new(1, -24, 0, 42)

					sliderLabel.Parent = sliderFrame
					sliderLabel.BackgroundTransparency = 1
					sliderLabel.Size = UDim2.new(0.7, 0, 0, 20)
					sliderLabel.Font = Enum.Font.Gotham
					sliderLabel.Text = options.text
					sliderLabel.TextColor3 = Theme.textMuted
					sliderLabel.TextSize = 13
					sliderLabel.TextXAlignment = Enum.TextXAlignment.Left

					sliderValue.Parent = sliderFrame
					sliderValue.BackgroundTransparency = 1
					sliderValue.Position = UDim2.new(0.7, 0, 0, 0)
					sliderValue.Size = UDim2.new(0.3, 0, 0, 20)
					sliderValue.Font = Enum.Font.GothamBold
					sliderValue.Text = tostring(options.min)
					sliderValue.TextColor3 = Theme.text
					sliderValue.TextSize = 13
					sliderValue.TextXAlignment = Enum.TextXAlignment.Right

					sliderBg.Parent = sliderFrame
					sliderBg.BackgroundColor3 = Theme.input
					sliderBg.Position = UDim2.new(0, 0, 0, 26)
					sliderBg.Size = UDim2.new(1, 0, 0, 6)
					sliderBg.AutoButtonColor = false
					sliderBg.Text = ""

					sliderBgCorner.CornerRadius = UDim.new(1, 0)
					sliderBgCorner.Parent = sliderBg

					sliderFill.Parent = sliderBg
					sliderFill.BackgroundColor3 = Theme.slider
					sliderFill.Size = UDim2.new(0, 0, 1, 0)

					sliderFillCorner.CornerRadius = UDim.new(1, 0)
					sliderFillCorner.Parent = sliderFill

					sliderBall.Parent = sliderBg
					sliderBall.AnchorPoint = Vector2.new(0.5, 0.5)
					sliderBall.BackgroundColor3 = Theme.text
					sliderBall.Position = UDim2.new(0, 0, 0.5, 0)
					sliderBall.Size = UDim2.new(0, 14, 0, 14)

					sliderBallCorner.CornerRadius = UDim.new(1, 0)
					sliderBallCorner.Parent = sliderBall

					local UIS = game:GetService("UserInputService")
					local RS = game:GetService("RunService")

					sliderBg.MouseButton1Down:Connect(function() Held = true end)
					UIS.InputEnded:Connect(function(inp) if inp.UserInputType == Enum.UserInputType.MouseButton1 then Held = false end end)

					RS.RenderStepped:Connect(function()
						if Held then
							local mouse = UIS:GetMouseLocation()
							local pos = math.clamp((mouse.X - sliderBg.AbsolutePosition.X) / sliderBg.AbsoluteSize.X, 0, 1)
							Value = math.floor(options.min + (options.max - options.min) * pos + 0.5)
							sliderValue.Text = tostring(Value)
							sliderFill.Size = UDim2.new(pos, 0, 1, 0)
							sliderBall.Position = UDim2.new(pos, 0, 0.5, 0)
							options.callback(Value)
						end
					end)
				end

				function elements:Dropdown(options)
					if not options.text or not options.default or not options.list or not options.callback then Notify("Dropdown", "Missing arguments!") return end

					local Dropped = false
					local Selected = options.default

					local dropFrame = Instance.new("Frame")
					local dropLabel = Instance.new("TextLabel")
					local dropBtn = Instance.new("TextButton")
					local dropBtnCorner = Instance.new("UICorner")
					local dropArrow = Instance.new("TextLabel")
					local dropList = Instance.new("Frame")
					local dropListCorner = Instance.new("UICorner")
					local dropListLayout = Instance.new("UIListLayout")

					dropFrame.Parent = sectionFrame
					dropFrame.BackgroundTransparency = 1
					dropFrame.Size = UDim2.new(1, -24, 0, 28)
					dropFrame.ClipsDescendants = false

					dropLabel.Parent = dropFrame
					dropLabel.BackgroundTransparency = 1
					dropLabel.Size = UDim2.new(0.5, 0, 1, 0)
					dropLabel.Font = Enum.Font.Gotham
					dropLabel.Text = options.text
					dropLabel.TextColor3 = Theme.textMuted
					dropLabel.TextSize = 13
					dropLabel.TextXAlignment = Enum.TextXAlignment.Left

					dropBtn.Parent = dropFrame
					dropBtn.AnchorPoint = Vector2.new(1, 0)
					dropBtn.BackgroundColor3 = Theme.input
					dropBtn.Position = UDim2.new(1, 0, 0, 0)
					dropBtn.Size = UDim2.new(0.45, 0, 1, 0)
					dropBtn.AutoButtonColor = false
					dropBtn.Font = Enum.Font.Gotham
					dropBtn.Text = " " .. Selected
					dropBtn.TextColor3 = Theme.text
					dropBtn.TextSize = 12
					dropBtn.TextXAlignment = Enum.TextXAlignment.Left

					dropBtnCorner.CornerRadius = UDim.new(0, 6)
					dropBtnCorner.Parent = dropBtn

					dropArrow.Parent = dropBtn
					dropArrow.AnchorPoint = Vector2.new(1, 0.5)
					dropArrow.BackgroundTransparency = 1
					dropArrow.Position = UDim2.new(1, -8, 0.5, 0)
					dropArrow.Size = UDim2.new(0, 12, 0, 12)
					dropArrow.Font = Enum.Font.GothamBold
					dropArrow.Text = "v"
					dropArrow.TextColor3 = Theme.textMuted
					dropArrow.TextSize = 10

					dropList.Parent = dropBtn
					dropList.BackgroundColor3 = Theme.input
					dropList.Position = UDim2.new(0, 0, 1, 4)
					dropList.Size = UDim2.new(1, 0, 0, 0)
					dropList.ClipsDescendants = true
					dropList.ZIndex = 10

					dropListCorner.CornerRadius = UDim.new(0, 6)
					dropListCorner.Parent = dropList

					dropListLayout.Parent = dropList
					dropListLayout.Padding = UDim.new(0, 2)

					local listHeight = #options.list * 26

					for _, item in ipairs(options.list) do
						local itemBtn = Instance.new("TextButton")
						itemBtn.Parent = dropList
						itemBtn.BackgroundTransparency = 1
						itemBtn.Size = UDim2.new(1, 0, 0, 24)
						itemBtn.AutoButtonColor = false
						itemBtn.Font = Enum.Font.Gotham
						itemBtn.Text = " " .. item
						itemBtn.TextColor3 = Theme.text
						itemBtn.TextSize = 12
						itemBtn.TextXAlignment = Enum.TextXAlignment.Left
						itemBtn.ZIndex = 11

						itemBtn.MouseButton1Click:Connect(function()
							Selected = item
							dropBtn.Text = " " .. item
							options.callback(item)
							Dropped = false
							TweenService:Create(dropList, TweenInfo.new(0.15), {Size = UDim2.new(1, 0, 0, 0)}):Play()
						end)
					end

					dropBtn.MouseButton1Click:Connect(function()
						Dropped = not Dropped
						TweenService:Create(dropList, TweenInfo.new(0.15), {
							Size = Dropped and UDim2.new(1, 0, 0, listHeight) or UDim2.new(1, 0, 0, 0)
						}):Play()
					end)
				end

				function elements:Textbox(options)
					if not options.text or not options.value or not options.callback then Notify("Textbox", "Missing arguments!") return end

					local textFrame = Instance.new("Frame")
					local textLabel = Instance.new("TextLabel")
					local textBox = Instance.new("TextBox")
					local textBoxCorner = Instance.new("UICorner")

					textFrame.Parent = sectionFrame
					textFrame.BackgroundTransparency = 1
					textFrame.Size = UDim2.new(1, -24, 0, 28)

					textLabel.Parent = textFrame
					textLabel.BackgroundTransparency = 1
					textLabel.Size = UDim2.new(0.5, 0, 1, 0)
					textLabel.Font = Enum.Font.Gotham
					textLabel.Text = options.text
					textLabel.TextColor3 = Theme.textMuted
					textLabel.TextSize = 13
					textLabel.TextXAlignment = Enum.TextXAlignment.Left

					textBox.Parent = textFrame
					textBox.AnchorPoint = Vector2.new(1, 0)
					textBox.BackgroundColor3 = Theme.input
					textBox.Position = UDim2.new(1, 0, 0, 0)
					textBox.Size = UDim2.new(0.45, 0, 1, 0)
					textBox.Font = Enum.Font.Gotham
					textBox.Text = options.value
					textBox.TextColor3 = Theme.text
					textBox.TextSize = 12
					textBox.ClearTextOnFocus = false

					textBoxCorner.CornerRadius = UDim.new(0, 6)
					textBoxCorner.Parent = textBox

					textBox.FocusLost:Connect(function(enter)
						if enter and textBox.Text ~= "" then
							options.callback(textBox.Text)
						end
					end)
				end

				function elements:Keybind(options)
					if not options.text or not options.default or not options.callback then Notify("Keybind", "Missing arguments!") return end

					local currentKey = options.default.Name
					local listening = false

					local blacklist = {Return=true, Space=true, Tab=true, W=true, A=true, S=true, D=true, Unknown=true}
					local short = {RightControl="RCtrl", LeftControl="LCtrl", LeftShift="LShift", RightShift="RShift", MouseButton1="M1", MouseButton2="M2"}

					local kbFrame = Instance.new("Frame")
					local kbLabel = Instance.new("TextLabel")
					local kbBtn = Instance.new("TextButton")
					local kbBtnCorner = Instance.new("UICorner")

					kbFrame.Parent = sectionFrame
					kbFrame.BackgroundTransparency = 1
					kbFrame.Size = UDim2.new(1, -24, 0, 28)

					kbLabel.Parent = kbFrame
					kbLabel.BackgroundTransparency = 1
					kbLabel.Size = UDim2.new(0.7, 0, 1, 0)
					kbLabel.Font = Enum.Font.Gotham
					kbLabel.Text = options.text
					kbLabel.TextColor3 = Theme.textMuted
					kbLabel.TextSize = 13
					kbLabel.TextXAlignment = Enum.TextXAlignment.Left

					kbBtn.Parent = kbFrame
					kbBtn.AnchorPoint = Vector2.new(1, 0)
					kbBtn.BackgroundColor3 = Theme.input
					kbBtn.Position = UDim2.new(1, 0, 0, 0)
					kbBtn.Size = UDim2.new(0, 60, 1, 0)
					kbBtn.AutoButtonColor = false
					kbBtn.Font = Enum.Font.GothamBold
					kbBtn.Text = short[currentKey] or currentKey
					kbBtn.TextColor3 = Theme.accent
					kbBtn.TextSize = 12

					kbBtnCorner.CornerRadius = UDim.new(0, 6)
					kbBtnCorner.Parent = kbBtn

					kbBtn.MouseButton1Click:Connect(function()
						kbBtn.Text = "..."
						local inp = game:GetService("UserInputService").InputBegan:Wait()
						if not blacklist[inp.KeyCode.Name] then
							currentKey = inp.KeyCode.Name
							kbBtn.Text = short[currentKey] or currentKey
						else
							kbBtn.Text = short[currentKey] or currentKey
						end
					end)

					game:GetService("UserInputService").InputBegan:Connect(function(key, gpe)
						if not gpe and key.KeyCode.Name == currentKey then
							options.callback(currentKey)
						end
					end)
				end

				function elements:Colorpicker(options)
					if not options.text or not options.color or not options.callback then Notify("Colorpicker", "Missing arguments!") return end

					local cpFrame = Instance.new("Frame")
					local cpLabel = Instance.new("TextLabel")
					local cpBtn = Instance.new("TextButton")
					local cpBtnCorner = Instance.new("UICorner")

					cpFrame.Parent = sectionFrame
					cpFrame.BackgroundTransparency = 1
					cpFrame.Size = UDim2.new(1, -24, 0, 28)

					cpLabel.Parent = cpFrame
					cpLabel.BackgroundTransparency = 1
					cpLabel.Size = UDim2.new(0.7, 0, 1, 0)
					cpLabel.Font = Enum.Font.Gotham
					cpLabel.Text = options.text
					cpLabel.TextColor3 = Theme.textMuted
					cpLabel.TextSize = 13
					cpLabel.TextXAlignment = Enum.TextXAlignment.Left

					cpBtn.Parent = cpFrame
					cpBtn.AnchorPoint = Vector2.new(1, 0.5)
					cpBtn.BackgroundColor3 = options.color
					cpBtn.Position = UDim2.new(1, 0, 0.5, 0)
					cpBtn.Size = UDim2.new(0, 28, 0, 20)
					cpBtn.AutoButtonColor = false
					cpBtn.Text = ""

					cpBtnCorner.CornerRadius = UDim.new(0, 6)
					cpBtnCorner.Parent = cpBtn

					-- Simple color cycling on click
					local colors = {Color3.fromRGB(0,217,192), Color3.fromRGB(255,140,66), Color3.fromRGB(139,92,246), Color3.fromRGB(34,197,94), Color3.fromRGB(239,68,68)}
					local idx = 1
					cpBtn.MouseButton1Click:Connect(function()
						idx = idx % #colors + 1
						cpBtn.BackgroundColor3 = colors[idx]
						options.callback(colors[idx])
					end)
				end

				return elements
			end

			return sections
		end

		return tabs
	end

	return tabsections
end

return Library
